"use strict";import{showErrorToPage}from"./page-msg.js";if(!ReadableStream){showErrorToPage("Your browser doesn't support ReadableStream.")}export class Queue{constructor(){this.controller=null;this.stream=new ReadableStream({start:controller=>{this.controller=controller}})}push(value){this.controller.enqueue(value)}async pop(){const reader=this.stream.getReader();const{value:value}=await reader.read();reader.releaseLock();return value}size(){return this.controller.desiredSize}}
