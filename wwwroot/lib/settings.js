import{listTermThemes,getTermTheme,getPreferredTermThemeName,setPreferredTermTheme}from"/lib/term-themes.js";import{addThemeChangeCallback}from"/lib/theme-loader.js";import{listCookies}from"/lib/cookie.js";for(const[name,_]of listTermThemes()){const option=$(`<label>\n                        <input type="radio" name="theme" value="${name}">\n                        ${name}\n                        </label>`);$("#theme-option").append(option)}const currentTheme=getPreferredTermThemeName();$(`input[value="${currentTheme}"]`).prop("checked",true);let onThemeChanged=function(){};$(`input[name="theme"]`).on("change",(function(){setPreferredTermTheme($(this).val());const theme=$(`input[name="theme"]:checked`).val();const termTheme=getTermTheme(theme);term.options.theme=termTheme;onThemeChanged()}));const term=new Terminal({fontFamily:"Meslo, monospace",fontSize:14,scrollback:9999999});term.resize(30,12);term.open($("#term-preview").get(0));term.writeln("[0m前景色[0m");term.writeln("[30m黑色[0m\t[1;30m亮黑色[0m\t[40m黑色背景[0m");term.writeln("[31m红色[0m\t[1;31m亮红色[0m\t[41m红色背景[0m");term.writeln("[32m绿色[0m\t[1;32m亮绿色[0m\t[42m绿色背景[0m");term.writeln("[33m黄色[0m\t[1;33m亮黄色[0m\t[43m黄色背景[0m");term.writeln("[34m蓝色[0m\t[1;34m亮蓝色[0m\t[44m蓝色背景[0m");term.writeln("[35m紫色[0m\t[1;35m亮紫色[0m\t[45m紫色背景[0m");term.writeln("[36m青色[0m\t[1;36m亮青色[0m\t[46m青色背景[0m");term.writeln("[37m白色[0m\t[1;37m亮白色[0m\t[47m白色背景[0m");term.writeln("     ");function updateCookieList(){const cookieList=$("#cookie-list");cookieList.empty();cookieList.append("<h2>Cookies</h2>");for(const[key,value]of listCookies()){const listItem=$(`<div class="list-item">\n                                <div class="item-content">\n                                    <span class="item-name">${key}</span>\n                                    <span class="item-value">${value}</span>\n                                </div>\n                            </div>`);cookieList.append(listItem)}}$(updateCookieList);onThemeChanged=updateCookieList;addThemeChangeCallback(updateCookieList);
