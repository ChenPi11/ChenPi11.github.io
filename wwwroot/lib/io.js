"use strict";import{Queue}from"./queue.js";export class IOBuffer{constructor(){this.buffer=new Queue}write(data){for(let i=0;i<data.length;i++){this.buffer.push(data[i])}}async getChar(){return await this.buffer.pop()}async read(size){let result="";for(let i=0;i<size;i++){result+=await this.getChar();if(this.buffer.size()===0){break}}return result}async readAll(){let result="";while(this.buffer.size()>0){result+=await this.getChar()}return result}async readLine(){let result=[];while(true){const c=await this.getChar();if(c===""){result.pop();continue}if(c==="\r"||c==="\n"){break}else{result.push(c)}}return result.join("")}}
