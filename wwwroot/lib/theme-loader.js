"use strict";function getPreferredColorScheme(){const colorScheme=getCookie("color-scheme");if(colorScheme){return colorScheme}if(window.matchMedia){if(window.matchMedia("(prefers-color-scheme: dark)").matches){return"dark"}if(window.matchMedia("(prefers-color-scheme: light)").matches){return"light"}}return"light"}const urlParams=new URLSearchParams(window.location.search);let theme=urlParams.get("theme");if(theme!="dark"&&theme!="light"){theme=getPreferredColorScheme()}function getTheme(){return theme}const gmcCSSURL="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.8.1/github-markdown-${theme}.min.css";const prismCSSPath="/lib/prism-${theme}.css";const prismJSPath="/lib/prism-${theme}.js";$("body").attr("data-theme",theme);const metaColorScheme=$(`<meta name="color-scheme" content="${theme}">`);$("head").append(metaColorScheme);const gmcCSSLink=$(`<link rel="stylesheet" href="${gmcCSSURL.replace("${theme}",theme)}">`);$("head").append(gmcCSSLink);const prismCSSLink=$(`<link rel="stylesheet" href="${prismCSSPath.replace("${theme}",theme)}">`);$("head").append(prismCSSLink);const prismJSScript=$(`<script src="${prismJSPath.replace("${theme}",theme)}"><\/script>`);$("head").append(prismJSScript);let themeChangeCallbacks=[];function setTheme(new_theme){theme=new_theme;metaColorScheme.attr("content",theme);gmcCSSLink.attr("href",gmcCSSURL.replace("${theme}",theme));prismCSSLink.attr("href",prismCSSPath.replace("${theme}",theme));prismJSScript.attr("src",prismJSPath.replace("${theme}",theme));themeChangeCallbacks.forEach((callback=>callback(theme)));$("body").attr("data-theme",theme);setCookie("color-scheme",theme,7)}function addThemeChangeCallback(callback){themeChangeCallbacks.push(callback)}
