"use strict";function getPreferredColorScheme(){if(window.matchMedia){if(window.matchMedia("(prefers-color-scheme: dark)").matches){return"dark"}if(window.matchMedia("(prefers-color-scheme: light)").matches){return"light"}}return"light"}const urlParams=new URLSearchParams(window.location.search);let theme=urlParams.get("theme");if(theme!="dark"&&theme!="light"){theme=getPreferredColorScheme()}function getTheme(){return theme}const gmcCSSURL="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.8.1/github-markdown-${theme}.min.css";const prismCSSPath="/prism/${theme}/prism.css";const prismJSPath="/prism/${theme}/prism.js";const metaColorScheme=document.createElement("meta");metaColorScheme.name="color-scheme";metaColorScheme.content=theme;document.head.appendChild(metaColorScheme);const gmcCSSLink=document.createElement("link");gmcCSSLink.rel="stylesheet";gmcCSSLink.href=gmcCSSURL.replace("${theme}",theme);document.head.appendChild(gmcCSSLink);const prismCSSLink=document.createElement("link");prismCSSLink.rel="stylesheet";prismCSSLink.href=prismCSSPath.replace("${theme}",theme);document.head.appendChild(prismCSSLink);const prismJSScript=document.createElement("script");prismJSScript.src=prismJSPath.replace("${theme}",theme);document.head.appendChild(prismJSScript);let themeChangeCallbacks=[];function setTheme(new_theme){console.log(`Setting theme to '${new_theme}' ...`);theme=new_theme;metaColorScheme.content=theme;gmcCSSLink.href=gmcCSSURL.replace("${theme}",theme);prismCSSLink.href=prismCSSPath.replace("${theme}",theme);prismJSScript.src=prismJSPath.replace("${theme}",theme);themeChangeCallbacks.forEach((callback=>callback(theme)))}function addThemeChangeCallback(callback){themeChangeCallbacks.push(callback)}
